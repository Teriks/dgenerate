title: Kolors
order: 10

@uri[{"label":"Model Path / HF Slug", "dir":true, "default": "Kwai-Kolors/Kolors-diffusers", "optional":false, "file-types":["models"]}]
--model-type kolors
@dropdown[{"label":"Model dtype", "arg":"--dtype", "options":["float16", "bfloat16", "float32"], "default":"float16"}]
@dropdown[{"label":"Model variant", "arg":"--variant", "options":["fp16", "bf16"], "default":"fp16"}]
@karrasscheduler[{"label":"Scheduler", "arg":"--scheduler"}]
@checkboxwithtwointargs[{"id": "dc", "label":"Use DeepCache", "int1-label": "DeepCache Interval", "int1-arg":"--deep-cache-intervals", "int1":5, "int1-min":1, "int2-label":"DeepCache Branch ID", "int2":1, "int2-arg": "--deep-cache-branch-ids", "int2-min":0}]
@conditionalcheckboxes[{"id": "hd", "labels":["Use HiDiffusion", "HiDiffusion No Window Attention", "HiDiffusion No RAUNet"], "args":["--hi-diffusion", "--hi-diffusion-no-win-attn", "--hi-diffusion-no-raunet"]}]
@switch[{"label":"Use SADA", "arg":"--sada", "exclude": ["hd", "dc"]}]
@switchradio[{"labels":["Model CPU Offload", "Model Sequential Offload"], "args":["--model-cpu-offload", "--model-sequential-offload"], "default": 1}]
@quantizer[{"divider-after":true}]
@submodelbuilder[{"label":"Refiner", "arg":"--sdxl-refiner", "model": "SDXL Refiner", "default":"stabilityai/stable-diffusion-xl-refiner-1.0"}]
@file[{"label": "Refiner Original Config (yaml)", "arg": "--sdxl-refiner-original-config", "file-types": ["yaml"]}]
@karrasscheduler[{"label":"Refiner Scheduler", "arg":"--second-model-scheduler"}]
@checkboxwithtwointargs[{"label":"Refiner Use DeepCache", "int1-label": "Refiner DeepCache Interval", "int1-arg":"--sdxl-refiner-deep-cache-intervals", "int1":5, "int1-min":1, "int2-label":"Refiner DeepCache Branch ID", "int2":1, "int2-arg": "--sdxl-refiner-deep-cache-branch-ids", "int2-min":0}]
@switch[{"label":"Refiner Edit Mode", "arg":"--sdxl-refiner-edit"}]
@switchradio[{"labels":["Refiner CPU Offload", "Refiner Sequential Offload"], "args":["--second-model-cpu-offload", "--second-model-sequential-offload"]}]
@quantizer[{"label": "Refiner Quantizer", "arg":"--second-model-quantizer", "divider-after":true}]
@submodelbuilder[{"label":"VAE", "arg":"--vae", "model": "VAE"}]
@switch[{"label":"VAE Tiling", "arg":"--vae-tiling"}]
@switch[{"label":"VAE Slicing", "arg":"--vae-slicing", "divider-after":true}]
@submodelbuilder[{"label":"LoRA", "arg":"--loras", "model": "LoRA"}]
@submodelbuilder[{"label":"Control Net", "arg":"--control-nets", "model": "Control Net"}]
@submodelbuilder[{"label":"UNet", "arg":"--unet", "model": "UNet"}]
@submodelbuilder[{"label":"Refiner UNet", "arg":"--second-model-unet", "model": "UNet", "divider-after":true}]
@imageseed[{"label":"Image Seed", "arg":"--image-seeds", "file-types":["images-in", "videos-in"], "float-label":"Image Seed Strength", "float-arg":"--image-seed-strengths", "min":0.01, "max":1, "default":"", "float":""}]
@switch[{"label":"No Aspect Correction?", "arg":"--no-aspect"}]
@imageprocessor[{"arg":"--seed-image-processors", "label":"Seed Image Processor"}]
@imageprocessor[{"arg":"--mask-image-processors", "label":"Inpaint Mask Processor"}]
@imageprocessor[{"arg":"--control-image-processors", "label":"Control Image Processor"}]
@latentsprocessor[{"arg":"--img2img-latents-processors", "label":"Img2Img Latents Processor"}]
@latentsprocessor[{"arg":"--latents-processors", "label":"Raw Latents Processor", "divider-after":true}]
@int[{"label":"Inference Steps", "arg":"--inference-steps", "default":30, "min":1}]
@float[{"label":"Guidance Scale", "arg":"--guidance-scales", "default":5, "min":0}]
@float[{"label":"PAG Scale", "arg":"--pag-scales", "min":0}]
@float[{"label":"Adaptive PAG Scale", "arg":"--pag-adaptive-scales", "min":0}]
@float[{"label":"SDXL High Noise Fraction", "arg":"--sdxl-high-noise-fractions", "default":0.8, "min":0.001, "max":0.99}]
@seeds[{"label":"Seeds"}]
@int[{"label":"Batch Size", "arg":"--batch-size", "default":"", "min":1}]
@imagesize[{"label":"Batch Grid Size (CxR)", "arg":"--batch-grid-size", "default":"", "divider-after":true}]
@dir[{"label":"Output Directory", "arg":"--output-path", "default":"output"}]
@imageformat[{}]
@switchradio[{"labels":["Output Dgenerate Image Metadata", "Output Automatic1111 Image Metadata"], "args":["--output-metadata", "--output-auto1111-metadata"]}]
@switch[{"label":"Output Configs", "arg":"--output-configs"}]
@imagesize[{"label":"Output Size (WxH)", "arg":"--output-size", "default":"1024x1024", "divider-after":true}]
@promptupscaler[{"label":"Prompt Upscaler", "arg":"--prompt-upscaler"}]
@imageprocessor[{"arg":"--post-processors", "label":"Post Processor"}]
@latentsprocessor[{"arg":"--latents-post-processors", "label":"Latents Post Processor"}]
@device[{}]
--prompts "add your prompt here"