Specifying Sigmas (denoising schedule)
======================================

The denoising schedule sigma values can be overridden with the options ``--sigmas`` or ``--sdxl-refiner-sigmas``

This is supported when the selected ``--scheduler`` or ``--second-model-scheduler`` supports overriding
sigma values.  Which is the case in the default scheduler for most model types.

An error will be issued if this particular operation is not supported for the model or the model and
selected scheduler.

Sigma values can be overridden by providing a CSV list of float values, or by using an expression
that acts on the existing sigmas calculated by the scheduler.

The ``--sigmas`` and ``--sdxl-refiner-sigmas`` options are combinatorial, meaning you can provide
multiple CSV lists, or multiple expressions, and each one of those will be tried in batch.

To specify a list of sigma values to try, simply use: ``--sigmas 1.0,0.8,0.6,0.4,0.2`` for example,
this CSV list is parsed as one token, so you may want to quote it depending on the situation.

To specify an expression you should use: ``--sigmas "expr: sigmas * 0.95"`` for instance,
the ``expr:`` prefix on the argument value indicates that you are using an expression.

Expressions are evaluated using ``asteval`` which is also used for expression dgenerates
shell.

In this expression environment, numpy is available through the namespace ``np`` if you
wish to use it to help with calculating a set of sigma values.

A common operation is simply scaling the sigma values, the variable ``sigmas`` in the
expression environment is set to the sigmas calculated by the models scheduler, it is
represented as a numpy array so you may use the multiplication operator to scale the
entire array of sigmas by a value.


Here is an example of manually calculating sigmas for Flux and passing them as CSV
from inside of a dgenerate config, this is essentially using the default sigmas
curve that Flux already uses and scaling it by a value.

@EXAMPLE[../../examples/flux/sigmas/sigmas-manual-config.dgen]

In the case that we want to use the sigmas generated by the scheduler and then scale
them, instead of entirely calculating them on our own, we can use the expression
feature, this is helpful for SDXL or other models where calculating the intial
set of sigmas may not be so trivial.

@EXAMPLE[../../examples/flux/sigmas/sigmas-expression-config.dgen]



